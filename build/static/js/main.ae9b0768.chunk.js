(this["webpackJsonpbuildspace-solana"]=this["webpackJsonpbuildspace-solana"]||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},108:function(e,t){},111:function(e,t){},133:function(e,t){},134:function(e,t){},158:function(e,t,n){"use strict";n.r(t);var c=n(24),a=n.n(c),r=n(95),s=n.n(r),o=(n(105),n(11)),i=n(3),u=n(9),l=n(1),p=n.n(l),f=n.p+"static/media/twitter-logo.d89d9a86.svg",b=n.p+"static/media/solana-sol.19b20fe8.svg",d=(n(107),n(96)),m=n(8),g=n(25),j=n(53),h=n(14),v="_buildspace",x="https://twitter.com/".concat(v),y=g.d.SystemProgram,w=(g.d.Keypair,Object.values(d._keypair.secretKey)),O=new Uint8Array(w),k=g.d.Keypair.fromSecretKey(O),S=new m.PublicKey(j.metadata.address),K=Object(m.clusterApiUrl)("devnet"),N="processed",A=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),l=s[0],d=s[1],w=Object(c.useState)([]),O=Object(u.a)(w,2),A=O[0],G=O[1],I=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=12;break}if(!n.isPhantom){e.next=10;break}return console.log("Phantom wallet found"),e.next=7,n.connect({onlyIfTrusted:!0});case 7:c=e.sent,console.log("Connected with Public key:",c.publicKey.toString()),a(c.publicKey.toString());case 10:e.next=13;break;case 12:alert("Solana object not found! Get a Phantom Wallet \ud83d\udc7b");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.solana)){e.next=7;break}return e.next=4,n.connect();case 4:c=e.sent,console.log("Connected with Public Key:",c.publicKey.toString()),a(c.publicKey.toString());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=e.target.value;d(t)},L=function(){var e=new m.Connection(K,N);return new g.b(e,window.solana,N)},C=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=L(),n=new g.a(j,S,t),console.log("ping"),e.next=6,n.rpc.startStuffOff({accounts:{baseAccount:k.publicKey,user:t.wallet.publicKey,systemProgram:y.programId},signers:[k]});case 6:return console.log("Created a new BaseAccount w/ address:",k.publicKey.toString()),e.next=9,M();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error creating BaseAccount account:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==l.length){e.next=3;break}return console.log("No gif link given!"),e.abrupt("return");case 3:return d(""),console.log("Gif link:",l),e.prev=5,t=L(),n=new g.a(j,S,t),e.next=10,n.rpc.addGif(l,{accounts:{baseAccount:k.publicKey,user:t.wallet.publicKey}});case 10:return console.log("GIF successfully sent to program",l),e.next=13,M();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("Error sending GIF:",e.t0);case 18:l.length>0?(console.log("Gif link:",l),G([].concat(Object(o.a)(A),[l])),d("")):console.log("Empty input. Try again.");case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=L(),n=new g.a(j,S,t),e.next=5,n.account.baseAccount.fetch(k.publicKey);case 5:c=e.sent,console.log("Got the account",c),G(c.gifList),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getGifList: ",e.t0),G(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)}}),[]),Object(c.useEffect)((function(){n&&(console.log("Fetching GIF list..."),M())}),[n]),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:n?"authed-container":"container",children:[Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("p",{className:"header",children:"\ud83d\uddbc GIF Portal"}),Object(h.jsx)("p",{className:"sub-text",children:"View your GIF collection in the metaverse \u2728"}),!n&&Object(h.jsx)("button",{className:"cta-button connect-wallet-button",onClick:E,children:"Connet to a Wallet"}),n&&(null===A?Object(h.jsx)("div",{className:"connected-container",children:Object(h.jsx)("button",{className:"cta-button submit-gif-button",onClick:C,children:"Do One-Time Initialization For GIF Program Account"})}):Object(h.jsxs)("div",{className:"connected-container",children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F()},children:[Object(h.jsx)("input",{type:"text",placeholder:"Enter gif link!",value:l,onChange:P}),Object(h.jsx)("button",{type:"submit",className:"cta-button submit-gif-button",children:"Submit"})]}),Object(h.jsx)("div",{className:"gif-grid",children:A.map((function(e,t){return Object(h.jsxs)("div",{className:"gif-item",children:[Object(h.jsx)("img",{src:e.gifLink}),Object(h.jsxs)("p",{className:"address",children:[" ",Object(h.jsx)("img",{alt:"Solana Logo",className:"solana-logo",src:b})," ",e.userAddress.toString()]})]},t)}))})]}))]}),Object(h.jsxs)("div",{className:"footer-container",children:[Object(h.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:f}),Object(h.jsx)("a",{className:"footer-text",href:x,target:"_blank",rel:"noreferrer",children:"built on @".concat(v)})]})]})})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(A,{})}),document.getElementById("root"))},53:function(e){e.exports=JSON.parse('{"version":"0.1.0","name":"myepicproject","instructions":[{"name":"startStuffOff","accounts":[{"name":"baseAccount","isMut":true,"isSigner":true},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"addGif","accounts":[{"name":"baseAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true}],"args":[{"name":"gifLink","type":"string"}]}],"accounts":[{"name":"BaseAccount","type":{"kind":"struct","fields":[{"name":"totalGifs","type":"u64"},{"name":"gifList","type":{"vec":{"defined":"ItemStruct"}}}]}}],"types":[{"name":"ItemStruct","type":{"kind":"struct","fields":[{"name":"gifLink","type":"string"},{"name":"userAddress","type":"publicKey"}]}}],"metadata":{"address":"3GpJn195zK5A78VCH1sHi6Ub2HRHHEBWstufRgsVWqg3"}}')},96:function(e){e.exports=JSON.parse('{"_keypair":{"publicKey":{"0":87,"1":165,"2":127,"3":118,"4":20,"5":62,"6":176,"7":175,"8":82,"9":181,"10":201,"11":122,"12":32,"13":112,"14":31,"15":12,"16":209,"17":116,"18":135,"19":13,"20":193,"21":229,"22":217,"23":93,"24":177,"25":126,"26":113,"27":71,"28":24,"29":110,"30":173,"31":45},"secretKey":{"0":25,"1":108,"2":242,"3":185,"4":200,"5":179,"6":60,"7":141,"8":122,"9":28,"10":193,"11":68,"12":210,"13":244,"14":56,"15":222,"16":80,"17":119,"18":118,"19":124,"20":172,"21":100,"22":225,"23":234,"24":231,"25":9,"26":183,"27":144,"28":58,"29":208,"30":184,"31":135,"32":87,"33":165,"34":127,"35":118,"36":20,"37":62,"38":176,"39":175,"40":82,"41":181,"42":201,"43":122,"44":32,"45":112,"46":31,"47":12,"48":209,"49":116,"50":135,"51":13,"52":193,"53":229,"54":217,"55":93,"56":177,"57":126,"58":113,"59":71,"60":24,"61":110,"62":173,"63":45}}}')}},[[158,1,2]]]);
//# sourceMappingURL=main.ae9b0768.chunk.js.map